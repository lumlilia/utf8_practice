# utf8_practice
UTF-8の仕組みを理解する為の練習(メモ)

## これは何？
入力で受けとった文字列を新しい文字列に写し出力するだけのプログラムです。

UTF-8の仕組みに従い、1文字ずつbyte数を計算し写します。

## 下のメモを読む前に
私Lumliaは基礎をすっ飛ばしている独学勢です。  
間違えている可能性も大いにあります。  
もし「ここはおかしいぞ？」という部分があったら、教えてくださると嬉しいです。

## UTF-8の仕組みメモ
1byte単位で扱います。

### 上位1bit目が0
1byte文字。

例
* 0100 1110 -> N (0x4e)
* 0110 0101 -> e (0x65)
* 0110 1011 -> k (0x6b)
* 0110 1111 -> o (0x6f)

### 上位1bit目が1
連続する1の数がその文字のbyte数。  
2byte目以降は0b10から始まる。

例
2byte
* 1101 0000  1001 1000 -> И (0xd098)
* 1101 0000  1011 1101 -> н (0xd0bd)
* 1101 0001  1000 0011 -> у (0xd183) ※キリル文字

3byte
* 1110 0111  1000 1010  1010 1100 -> 犬 (0xe78aac)
* 1110 0011  1000 0001  1010 1101 -> ね (0xe381ad)
* 1110 0011  1000 0001  1001 0011 -> こ (0xe38193)

### まとめ
* 0b0 1byte文字。
* 0b11... 2byte以上の文字の先頭byte。上位1bitから続く1の数が文字のbyte数。
* 0b10 2byte以上の文字の途中byte。

上位2bitを見ればそのバイト君の立ち位置がわかるようになっているので、適当な場所を読み込んでも正確に読み込めるようになっています。
